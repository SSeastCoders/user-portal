- name: Create and Upload UI-user-portal
  hosts: localhost
  tasks:
  - name: "create s3 bucket"
    amazon.aws.aws_s3:
      bucket: eastcodersbank-user-portal-v1.0
      mode: create
      permission: public-read

  - name: "Configure static site"
    community.aws.s3_website:
      name: eastcodersbank-user-portal
      state: present
      suffix: index.html

  - name: "Upload site to bucket"
    community.aws.s3_sync:
      bucket: eastcodersbank-user-portal
      file_root: ../build
      include: "*"
      permission: public-read
    